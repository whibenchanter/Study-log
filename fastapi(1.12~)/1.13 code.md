# ğŸ“š FastAPI 1.13 í•™ìŠµ ì •ë¦¬

> Pydanticê³¼ Request/Response Body í•™ìŠµ ë‚´ìš©

---

## ğŸ“ íŒŒì¼ ëª©ë¡

| íŒŒì¼ëª… | ì„¤ëª… |
|--------|------|
| `type_hints.py` | íƒ€ì…íŒíŠ¸ ê¸°ì´ˆ ì˜ˆì œ |
| `pydantic_practice.py` | Pydantic BaseModel ì—°ìŠµ |
| `request_body.py` | Request Body í™œìš© |
| `response_body.py` | Response Body & íƒ€ì… ë°˜í™˜ |
| `ê³¼ì œ.py` | POST /hello API ê³¼ì œ |

---

## 1ï¸âƒ£ type_hints.py
> íƒ€ì…íŒíŠ¸ ê¸°ì´ˆ - ë°ì´í„° êµ¬ì¡° ì •ì˜

```python
users = [
    {"id": 1, "email": "alex@gmail.com"},
    {"id": 2, "email": "bob@gmail.com"},
    {"id": 3, "email": "chris@gmail.com"},
]
```

**í•µì‹¬:** ë¦¬ìŠ¤íŠ¸ + ë”•ì…”ë„ˆë¦¬ë¡œ ì‚¬ìš©ì ë°ì´í„° í‘œí˜„

---

## 2ï¸âƒ£ pydantic_practice.py
> Pydanticìœ¼ë¡œ ë°ì´í„° ê²€ì¦í•˜ê¸°

```python
from pydantic import BaseModel

class Item(BaseModel):
    name: str
    price: int
```

**Pydantic ì‚¬ìš©ë²•:**
1. `BaseModel`ì„ ìƒì†í•œ í´ë˜ìŠ¤ ì •ì˜
2. ê²€ì¦í•  ë°ì´í„°ë¥¼ í´ë˜ìŠ¤ì— ë„£ìŒ
3. í†µê³¼í•˜ë©´ ì‚¬ìš©, ì‹¤íŒ¨í•˜ë©´ ì—ëŸ¬!

---

## 3ï¸âƒ£ request_body.py
> POST ìš”ì²­ìœ¼ë¡œ ë°ì´í„° ë°›ê¸°

```python
class ItemCreateRequest(BaseModel):
    name: str
    price: int

@app.post("/items")
def create_item_api(body: ItemCreateRequest):
    return {"name": body.name, "price": body.price}
```

**ìš”ì²­ ì˜ˆì‹œ:**
```json
POST /items
{"name": "ì‚¬ê³¼", "price": 1000}
```

**ì‘ë‹µ:**
```json
{"name": "ì‚¬ê³¼", "price": 1000}
```

---

## 4ï¸âƒ£ response_body.py
> ì‘ë‹µ íƒ€ì… ì§€ì • & ë¯¼ê° ì •ë³´ ìˆ¨ê¸°ê¸°

```python
class UserSignUpResponse(BaseModel):
    id: int
    email: str  # íŒ¨ìŠ¤ì›Œë“œëŠ” ì—¬ê¸° ì—†ìœ¼ë¯€ë¡œ ë…¸ì¶œ ì•ˆë¨!

@app.post("/users/sign-up", status_code=201)
def sign_up_api(body) -> UserSignUpResponse:
    return {"id": 1, "email": body.email}
```

**í•µì‹¬:** 
- `-> UserSignUpResponse` : ì‘ë‹µ íƒ€ì… ì§€ì •
- `status_code=201` : ìƒì„± ì„±ê³µ ìƒíƒœì½”ë“œ

---

## 5ï¸âƒ£ ê³¼ì œ.py
> POST /hello API ë§Œë“¤ê¸°

```python
from fastapi import FastAPI,HTTPException
from pydantic import BaseModel

app = FastAPI()

class HelloRequest(BaseModel):
    name: str

class HelloResponse(BaseModel):
    message: str

@app.post("/hello")
def hello_api(body: HelloRequest) -> HelloResponse:
    if body.name.strip() == "":
        raise HTTPException(status_code=400, detail="ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!")
    return ("message": f"ì•ˆë…•í•˜ì„¸ìš”, {body.name}ë‹˜!")
```

# strip() : ê³µë°± ì œê±°
**ìš”ì²­:** `{"name": "ë¯¼ìˆ˜"}`
**ì‘ë‹µ:** `{"message": "ì•ˆë…•í•˜ì„¸ìš”, ë¯¼ìˆ˜ë‹˜!"}`

---

## ğŸ¯ í•µì‹¬ ê°œë… ìš”ì•½

| ê°œë… | ì„¤ëª… |
|------|------|
| **Pydantic** | ë°ì´í„° í˜•ì‹ ê²€ì¦ ë„êµ¬ |
| **BaseModel** | ë°ì´í„° ê·œì¹™ì„ ì •ì˜í•˜ëŠ” í´ë˜ìŠ¤ |
| **Request Body** | POST ìš”ì²­ìœ¼ë¡œ ë³´ë‚´ëŠ” ë°ì´í„° |
| **Response Body** | APIê°€ ëŒë ¤ì£¼ëŠ” ì‘ë‹µ ë°ì´í„° |

---

## ğŸš€ ì‹¤í–‰ ë°©ë²•

```bash
cd /Users/admin/FASTAPI/1.13
fastapi dev request_body.py
# http://127.0.0.1:8000/docs ì—ì„œ í…ŒìŠ¤íŠ¸!
```
