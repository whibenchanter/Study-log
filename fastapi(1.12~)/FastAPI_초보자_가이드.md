# 🌟 FastAPI 완전 초보자 가이드

> 13살도 이해할 수 있는 쉬운 설명! 😊

---

## 🤔 먼저, 웹이 뭔지 알아보자!

우리가 인터넷에서 뭔가를 검색하면 어떤 일이 일어날까요?

```
┌─────────────┐                         ┌─────────────┐
│             │   "사과 가격 알려줘!"     │             │
│   너 (손님)  │ ─────────────────────▶  │  서버 (가게) │
│             │                         │             │
│             │   "사과는 1000원이야!"   │             │
│             │ ◀─────────────────────  │             │
└─────────────┘                         └─────────────┘
```

- **너 (클라이언트)**: 웹 브라우저로 인터넷을 사용하는 사람
- **서버**: 정보를 저장하고 보내주는 컴퓨터

---

## 📦 FastAPI가 뭐야?

**FastAPI**는 서버를 쉽게 만들 수 있게 도와주는 **파이썬 도구**야!

마치 레고 블록처럼, FastAPI를 사용하면 서버를 조립할 수 있어.

---

## 🛣️ URL이 뭐야?

URL은 인터넷 주소야! 집 주소처럼 어디로 가야 하는지 알려줘.

```
https://www.apple-store.com/items/apple?color=red
└──────────────────────────────────────────────────┘
                    이게 URL이야!
```

URL을 분해해보면:

```
https://www.apple-store.com / items / apple ? color=red
         ↓                     ↓      ↓         ↓
      가게 이름             진열대  사과    조건(빨간색)
```

---

## 🎯 Path Parameter란? (경로 파라미터)

### 💡 쉬운 비유: 사물함 번호!

학교 사물함을 생각해봐!

```
┌───────────────────────────────────────────┐
│                  사물함                    │
├─────┬─────┬─────┬─────┬─────┬─────┬─────┤
│  1  │  2  │  3  │  4  │  5  │  6  │  7  │
├─────┼─────┼─────┼─────┼─────┼─────┼─────┤
│ 🎒 │ 📚 │ ⚽ │ 🎨 │ 🎸 │ 🎮 │ 🧸 │
└─────┴─────┴─────┴─────┴─────┴─────┴─────┘
```

- "3번 사물함 열어줘!" 라고 하면 → ⚽ 축구공이 나와!
- "5번 사물함 열어줘!" 라고 하면 → 🎸 기타가 나와!

이게 바로 **Path Parameter**야! **번호를 말하면 그 물건을 찾아주는 것!**

### 📝 코드로 보기

```python
from fastapi import FastAPI, Path

app = FastAPI()

# /items/apple 이라고 주소를 치면
# item_name 에 "apple" 이 들어가!
@app.get('/items/{item_name}')
def get_item(item_name: str):
    return {"item_name": item_name}
```

### 🎮 이렇게 작동해!

```
너: "items/apple 페이지 열어줘!"
         ↓
┌─────────────────────────────────────┐
│  FastAPI 서버가 분석해!             │
│                                     │
│  /items/{item_name}                 │
│          ↓                          │
│     "apple" 을 잡았다!              │
└─────────────────────────────────────┘
         ↓
서버: {"item_name": "apple"} 여기있어!
```

### 🔧 Path() 로 규칙 정하기

```python
@app.get('/items/{item_name}')
def get_item(item_name: str = Path(..., max_length=6)):
    return {"item_name": item_name}
```

| 규칙 | 의미 | 예시 |
|------|------|------|
| `...` | 꼭 입력해야 해! (필수) | 빈칸으로 두면 안 됨 |
| `max_length=6` | 6글자까지만! | "apple" ✅, "watermelon" ❌ |
| `ge=1` | 1보다 크거나 같아야 해 | 1 ✅, 0 ❌ |

---

## 🔍 Query Parameter란? (쿼리 파라미터)

### 💡 쉬운 비유: 음식점 주문!

음식점에서 주문할 때를 생각해봐!

```
┌─────────────────────────────────────────────────┐
│                 🍔 햄버거 가게                   │
├─────────────────────────────────────────────────┤
│                                                 │
│  손님: "햄버거 주세요!"                          │
│                                                 │
│  직원: "어떤 옵션으로 드릴까요?"                  │
│                                                 │
│  손님: "피클 빼고, 양파 많이, 콜라 추가요!"       │
│         ↓         ↓          ↓                  │
│       옵션1     옵션2      옵션3                 │
│                                                 │
└─────────────────────────────────────────────────┘
```

이 **옵션들**이 바로 **Query Parameter**야!

### 📝 URL에서는 이렇게 표현해

```
/burger?pickle=no&onion=many&drink=cola
        ↓          ↓           ↓
      옵션1       옵션2        옵션3

? 뒤에 key=value 형태로 옵션을 붙여!
여러 개면 & 로 연결해!
```

### 📝 코드로 보기

```python
from fastapi import FastAPI, Query

app = FastAPI()

# /search?q=apple 이라고 주소를 치면
# q 에 "apple" 이 들어가!
@app.get("/search")
def search_api(q: str):
    return {"검색어": q}
```

### 🎮 이렇게 작동해!

```
너: "/search?q=apple&limit=5" 열어줘!
              ↓
┌─────────────────────────────────────┐
│  FastAPI 서버가 분석해!             │
│                                     │
│  q = "apple"   (검색어)             │
│  limit = 5     (몇 개?)             │
│                                     │
└─────────────────────────────────────┘
              ↓
서버: {"q": "apple", "limit": 5} 여기있어!
```

### 🔧 Query() 로 규칙 정하기

```python
@app.get("/search")
def search_api(q: str = Query(default="기본값", min_length=3, max_length=10)):
    return {"검색어": q}
```

| 규칙 | 의미 | 예시 |
|------|------|------|
| `default="기본값"` | 안 쓰면 이 값으로! | q 안 쓰면 "기본값" |
| `min_length=3` | 최소 3글자! | "hi" ❌, "hey" ✅ |
| `max_length=10` | 최대 10글자! | "hello" ✅ |

---

## 🆚 Path vs Query 차이점

### 📊 한눈에 보기

```
URL: /users/3/posts?limit=10&sort=latest
            ↓           ↓        ↓
         Path        Query    Query
        (3번 유저)   (10개만)  (최신순)
```

### 🎯 언제 뭘 써야 해?

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│  🗂️ Path Parameter                                     │
│  ─────────────────                                     │
│  "무엇을" 찾을지 정할 때!                               │
│                                                         │
│  예시:                                                  │
│  • /users/3        → 3번 사용자                         │
│  • /items/apple    → apple 아이템                       │
│  • /posts/123      → 123번 게시글                       │
│                                                         │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  🔍 Query Parameter                                     │
│  ─────────────────                                     │
│  "어떻게" 찾을지 옵션을 줄 때!                          │
│                                                         │
│  예시:                                                  │
│  • ?limit=10       → 10개만 보여줘                      │
│  • ?sort=latest    → 최신순으로 정렬                    │
│  • ?color=red      → 빨간색만 필터링                    │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 🍕 피자 주문으로 이해하기!

```
GET /menu/pizza?size=large&topping=cheese
        ↓              ↓          ↓
       Path         Query      Query
    (피자 주문)    (라지 사이즈) (치즈 토핑)
```

---

## 📚 과제 예제 완전 분석!

### 요구사항
```
GET /products/search?q=apple&limit=5
응답: {"q": "apple", "limit": 5}
```

### 코드 한 줄씩 이해하기!

```python
# 1️⃣ FastAPI 가져오기 (도구 꺼내기)
from fastapi import FastAPI

# 2️⃣ 앱 만들기 (가게 오픈!)
app = FastAPI()

# 3️⃣ 주소와 함수 연결하기
@app.get('/products/search')  # 이 주소로 오면...
def product_search(q: str, limit: int = 10):  # 이 함수 실행!
    return {"q": q, "limit": limit}  # 결과 돌려주기
```

### 🎬 실행 과정 애니메이션

```
Step 1: 너가 브라우저에 입력!
┌─────────────────────────────────────────┐
│  🌐 브라우저 주소창                      │
│  ┌─────────────────────────────────────┐ │
│  │ /products/search?q=apple&limit=5   │ │
│  └─────────────────────────────────────┘ │
│                     [Enter!]             │
└─────────────────────────────────────────┘
              │
              ▼
Step 2: FastAPI 서버가 받아!
┌─────────────────────────────────────────┐
│  🖥️ FastAPI 서버                        │
│                                         │
│  "어디로 가는 요청이지?"                 │
│   → /products/search 구나!              │
│                                         │
│  "옵션은 뭐지?"                          │
│   → q = "apple"                         │
│   → limit = 5                           │
│                                         │
└─────────────────────────────────────────┘
              │
              ▼
Step 3: 함수 실행!
┌─────────────────────────────────────────┐
│  ⚙️ product_search 함수                 │
│                                         │
│  def product_search(q, limit):          │
│      q = "apple"     ← 여기로 들어감     │
│      limit = 5       ← 여기로 들어감     │
│                                         │
│      return {"q": q, "limit": limit}    │
│                                         │
└─────────────────────────────────────────┘
              │
              ▼
Step 4: 결과 돌려주기!
┌─────────────────────────────────────────┐
│  📤 응답                                 │
│                                         │
│  {"q": "apple", "limit": 5}             │
│                                         │
│  브라우저로 다시 보내줘! ──────────────▶ │
└─────────────────────────────────────────┘
```

---

## 🎓 최종 정리!

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│   🌐 URL 구조 완전 이해!                                │
│                                                         │
│   https://가게주소/items/apple?color=red&size=big       │
│                      └──┬──┘    └────────┬─────────┘    │
│                         │                │              │
│                    Path Parameter   Query Parameter     │
│                    "뭘 찾을래?"     "어떻게 찾을래?"     │
│                                                         │
├─────────────────────────────────────────────────────────┤
│                                                         │
│   📌 기억해야 할 것!                                    │
│                                                         │
│   ✅ Path  = URL 경로 안에 있음 = 자원을 특정!          │
│   ✅ Query = ? 뒤에 있음 = 옵션 지정!                   │
│   ✅ Path()와 Query()로 규칙을 정할 수 있어!            │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 🚀 직접 해보기!

1. 터미널에서 `uvicorn 파일이름:app --reload` 실행
2. 브라우저에서 `http://127.0.0.1:8000/docs` 열기
3. 직접 테스트해보기! 🎮

**잘했어! 이제 너도 FastAPI 마스터! 🏆**
