# ğŸ“š 1-15 FastAPI CRUD + ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°

> **í•™ìŠµ ëª©í‘œ**: SQLAlchemy ORM CRUDì™€ async/await ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ì´í•´

---

## ğŸ“ íŒŒì¼ êµ¬ì¡°

| íŒŒì¼ | ì—­í•  |
|-----|-----|
| orm.py | Base í´ë˜ìŠ¤ + í…Œì´ë¸” ìƒì„± |
| connection.py | DB ì—°ê²° ì„¤ì • |
| models.py | Item ëª¨ë¸ |
| crud_session.py | ë©”ì¸ CRUD API |
| ê³¼ì œ115.py | ë¹„ë™ê¸° ê³¼ì œ |
| practice.py | ë¹„ë™ê¸° ì—°ìŠµ |

---

## CRUD API ìš”ì•½

### ìŠ¤í‚¤ë§ˆ ì •ì˜

| í´ë˜ìŠ¤ | ìš©ë„ | í•„ë“œ |
|-------|-----|-----|
| ItemCreateRequest | ìƒì„± ìš”ì²­ | name, price (í•„ìˆ˜) |
| ItemUpdateRequest | ìˆ˜ì • ìš”ì²­ | name, price (ì„ íƒ) |
| ItemResponse | ì‘ë‹µ | id, name, price |

### API ì—”ë“œí¬ì¸íŠ¸

| ë©”ì„œë“œ | ê²½ë¡œ | ê¸°ëŠ¥ | ìƒíƒœì½”ë“œ |
|:---:|-----|-----|:---:|
| POST | /items | ìƒì„± | 201 |
| GET | /items | ì „ì²´ ì¡°íšŒ | 200 |
| GET | /items/{id} | ë‹¨ì¼ ì¡°íšŒ | 200 |
| PATCH | /items/{id} | ë¶€ë¶„ ìˆ˜ì • | 200 |
| DELETE | /items/{id} | ì‚­ì œ | 204 |

### ğŸ’¡ `if body.name:` vs `if body.name is not None:`

| ë°©ì‹ | price=0 | ê²°ê³¼ |
|-----|:---:|-----|
| `if body.price:` | False | âŒ 0ìœ¼ë¡œ ìˆ˜ì • ë¶ˆê°€ |
| `if body.price is not None:` | True | âœ… 0ë„ í—ˆìš© |

---

## ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°

### ğŸ’¡ ì™œ ë¹„ë™ê¸°ë¥¼ ì“°ëŠ”ê°€?
> ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì¼ì„ í•  ìˆ˜ ìˆë‹¤.

### ë™ê¸° vs ë¹„ë™ê¸°

| êµ¬ë¶„ | ë™ê¸° | ë¹„ë™ê¸° |
|-----|-----|-------|
| ì‹¤í–‰ | ìˆœì°¨ì  | ë™ì‹œ |
| ëŒ€ê¸° | ë©ˆì¶¤ | ë‹¤ë¥¸ ì¼ ì²˜ë¦¬ |
| ì´ ì‹œê°„ | ëª¨ë“  ì‘ì—… í•© | ê°€ì¥ ê¸´ ì‘ì—… |

### ë¹„ë™ê¸° ì½”ë“œ ì˜ˆì‹œ

```python
import asyncio

async def a():
    await asyncio.sleep(1)
    print("A ì‹œì‘")
    await asyncio.sleep(2)
    print("A ë")

async def b():
    await asyncio.sleep(4)
    print("B ì‹œì‘")
    await asyncio.sleep(6)
    print("B ë")

async def c():
    await asyncio.sleep(0)
    print("C ì‹œì‘")
    await asyncio.sleep(5)
    print("C ë")

async def main():
    await asyncio.gather(a(), b(), c())

asyncio.run(main())
```

### ì‹¤í–‰ ê²°ê³¼ (íƒ€ì„ë¼ì¸)

| ì‹œê°„ | ì¶œë ¥ | ì„¤ëª… |
|:---:|-----|-----|
| t=0 | C ì‹œì‘ | sleep(0) = ì¦‰ì‹œ |
| t=1 | A ì‹œì‘ | sleep(1) ë |
| t=3 | A ë | sleep(2) ë |
| t=4 | B ì‹œì‘ | sleep(4) ë |
| t=5 | C ë | sleep(5) ë |
| t=10 | B ë | sleep(6) ë |

ì´ ì‹¤í–‰ì‹œê°„: **10ì´ˆ** (ê°€ì¥ ê¸´ ì‘ì—… ì‹œê°„)

---

## ğŸ“ í•µì‹¬ ì •ë¦¬

### async/await í•µì‹¬

| ë¬¸ë²• | ì—­í•  |
|-----|-----|
| `async def` | ë¹„ë™ê¸° í•¨ìˆ˜ ì •ì˜ |
| `await` | ë¹„ë™ê¸° ì‘ì—… ëŒ€ê¸° |
| `asyncio.gather()` | ì—¬ëŸ¬ ì‘ì—… ë™ì‹œ ì‹¤í–‰ |
| `asyncio.run()` | ì´ë²¤íŠ¸ ë£¨í”„ ì‹œì‘ |

### ğŸ“Œ íë¦„ ìš”ì•½

| êµ¬ë¶„ | íë¦„ |
|-----|-----|
| CRUD | ìš”ì²­ â†’ ì„¸ì…˜ â†’ ì¿¼ë¦¬ â†’ ì‘ë‹µ |
| ë¹„ë™ê¸° | run â†’ gather â†’ ë™ì‹œ ì‹¤í–‰ â†’ ì™„ë£Œ |
