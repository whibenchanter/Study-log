# 📚 1-9 JavaScript 투두리스트와 API

> **학습 목표**: HTML/JS 분리, localStorage, Fetch API를 활용한 실전 프로젝트

---

## 📋 파일 구조

| 파일 | 역할 |
|-----|-----|
| index.html | 화면 UI |
| app.js | 동작 로직 |
| fetch.html | 서버 통신 (Fetch API) |
| storage.html | 브라우저 저장 (Storage API) |

---

# Part 1: 투두리스트

## 1️⃣ index.html - 화면 구조

```html
<input id="todo-input" placeholder="할 일 입력"/>
<button id="add-btn">추가</button>
<ul id="todo-list"></ul>
<script src="app.js"></script>
```

| 요소 | 역할 |
|-----|-----|
| `#todo-input` | 할 일 입력창 |
| `#add-btn` | 추가 버튼 |
| `#todo-list` | 목록 (JS가 채움) |
| `<script src>` | 외부 JS 파일 연결 |

---

## 2️⃣ app.js - 동작 로직

```javascript
const todoInput = document.querySelector("#todo-input");
const addBtn = document.querySelector("#add-btn");
const todoList = document.querySelector("#todo-list");
let todos = [];

// 페이지 로드 시 복원
const savedTodos = JSON.parse(localStorage.getItem("todos"));
if (savedTodos) {
    todos = savedTodos;
    renderTodos();
}

function addTodo() {
    const text = todoInput.value.trim();
    if (text === "") { alert("할 일을 입력하세요"); return; }
    todos.push(text);
    todoInput.value = "";
    saveTodos();
    renderTodos();
}

function deleteTodo(index) {
    todos.splice(index, 1);
    saveTodos();
    renderTodos();
}

function renderTodos() {
    todoList.innerHTML = "";
    todos.forEach((todo, index) => {
        const li = document.createElement("li");
        li.textContent = todo;
        const btn = document.createElement("button");
        btn.textContent = "삭제";
        btn.addEventListener("click", () => deleteTodo(index));
        li.appendChild(btn);
        todoList.appendChild(li);
    });
}

function saveTodos() {
    localStorage.setItem("todos", JSON.stringify(todos));
}

addBtn.addEventListener("click", addTodo);
todoInput.addEventListener("keydown", e => {
    if (e.key === "Enter") addTodo();
});
```

### 📌 코드 흐름

| 순서 | 동작 | 함수 |
|:---:|-----|-----|
| 1 | 페이지 로드 | localStorage에서 복원 |
| 2 | 추가 버튼/Enter | `addTodo()` |
| 3 | 배열에 추가 | `todos.push()` |
| 4 | 저장 | `saveTodos()` |
| 5 | 화면 갱신 | `renderTodos()` |
| 6 | 삭제 버튼 | `deleteTodo()` |

---

# Part 2: API 학습

## 3️⃣ fetch.html - 서버 데이터 가져오기

```javascript
fetch("https://jsonplaceholder.typicode.com/posts")
.then(response => response.json())  // JSON 파싱
.then(posts => {
    for (const post of posts.slice(0, 5)) {
        const li = document.createElement("li");
        li.textContent = post.title;
        list.appendChild(li);
    }
});
```

### 📌 Fetch 흐름

| 순서 | 코드 | 역할 |
|:---:|-----|-----|
| 1 | `fetch(url)` | 서버에 요청 |
| 2 | `.then(r => r.json())` | JSON 파싱 |
| 3 | `.then(data => ...)` | 데이터 사용 |

---

## 4️⃣ storage.html - 브라우저 저장

### localStorage vs sessionStorage

| 구분 | localStorage | sessionStorage |
|-----|-------------|----------------|
| 유지 | 영구 (직접 삭제 전까지) | 탭 닫으면 삭제 |
| 탭 공유 | ✅ 모든 탭 공유 | ❌ 탭마다 별도 |

### Storage 메서드

| 메서드 | 역할 | 예시 |
|-------|-----|-----|
| `setItem(key, val)` | 저장 | `setItem("name", "홍길동")` |
| `getItem(key)` | 꺼내기 | `getItem("name")` → `"홍길동"` |
| `removeItem(key)` | 삭제 | `removeItem("name")` |

---

## 🎓 핵심 정리

| API | 메서드 | 설명 |
|-----|-------|-----|
| Storage | `setItem/getItem` | 저장/꺼내기 |
| Fetch | `fetch().then()` | 서버 요청 |
| JSON | `stringify/parse` | 객체↔문자열 변환 |

### 📌 전체 흐름

| 파트 | 파일 | 사용 API |
|-----|------|---------|
| 투두리스트 | index.html + app.js | DOM, Storage |
| 서버 통신 | fetch.html | Fetch API |
| 로컬 저장 | storage.html | Storage API |
