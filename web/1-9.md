# 📚 JavaScript 학습 정리

이 폴더에는 **2개의 파트**로 구성된 학습 예제가 있습니다.

---

# 🗂️ Part 1: 투두리스트 (To-Do List)

> **파일 구성**: `index.html` + `app.js`  
> **핵심 개념**: HTML/JS 분리, DOM 조작, localStorage를 활용한 데이터 저장

## 📄 index.html (화면 담당)

```html
<!-- 투두리스트 -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
        rel="stylesheet"
    />
    <title>To-do</title>
</head>
<body class="bg-light">
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <!-- Pomodoro -->
                <div class="card shadow-sm mb-4">
                    <div class="card-body text-center">
                    <h4 class="mb-3">Pomodoro Timer</h4>

                    <div class="input-group mb-3">
                        <input
                        autocomplete="off"
                        id="time-input"
                        type="number"
                        class="form-control"
                        placeholder="분 단위 입력"
                        />
                        <button id="start-timer" class="btn btn-success">시작</button>
                        <button id="stop-timer" class="btn btn-secondary">중지</button>
                    </div>

                    <div id="timer-display" class="fs-3 text-muted">시간을 설정하세요.</div>
                    </div>
                </div>

                <!-- To-Do -->
                <div class="card shadow-sm">
                    <div class="card-body">
                    <h4 class="text-center mb-3">To-Do</h4>

                    <div class="input-group mb-3">
                        <input id="todo-input" class="form-control" placeholder="할 일 입력" />
                        <button id="add-btn" class="btn btn-primary">추가</button>
                    </div>

                    <ul id="todo-list" class="list-group"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>
```

### 💡 index.html 핵심 포인트

| 라인 | 코드 | 설명 |
|-----|------|------|
| 6-9 | `<link href="bootstrap...">` | Bootstrap CSS 불러오기 (예쁜 스타일 자동 적용) |
| 24-25 | `id="time-input"` | 뽀모도로 타이머 입력창 (JS에서 찾을 용도) |
| 43 | `id="todo-input"` | 할 일 입력창 (JS에서 찾을 용도) |
| 44 | `id="add-btn"` | 추가 버튼 (JS에서 클릭 이벤트 연결) |
| 47 | `id="todo-list"` | 할 일 목록이 들어갈 빈 ul 태그 |
| **53** | `<script src="app.js">` | **🔗 app.js 파일 연결!** |

> ⚠️ **중요**: HTML은 뼈대(구조)만 담당하고, 실제 동작은 `app.js`가 처리합니다!

---

## 📄 app.js (동작 담당)

```javascript
// (투두리스트 동작처리)


const todoInput = document.querySelector("#todo-input");
const addBtn = document.querySelector("#add-btn");
const todoList = document.querySelector("#todo-list");

let todos = [];

// 복원
const savedTodos = JSON.parse(localStorage.getItem("todos"));

if (savedTodos) {
    todos = savedTodos;
    renderTodos();
}

function addTodo() {
    const text = todoInput.value.trim();
    if (text === "") {
        alert("할 일을 입력하세요");
        return;
    }

    todos.push(text);
    todoInput.value = "";
    saveTodos();
    renderTodos();
}

function deleteTodo(index) {
    todos.splice(index, 1);
    saveTodos();
    renderTodos();
}

function renderTodos() {
    todoList.innerHTML = "";

    todos.forEach((todo, index) => {
        const li = document.createElement("li");
        li.className =
        "list-group-item d-flex justify-content-between align-items-center";
        li.textContent = todo;

        const btn = document.createElement("button");
        btn.className = "btn btn-sm btn-danger";
        btn.textContent = "삭제";
        btn.addEventListener("click", () => deleteTodo(index));

        li.appendChild(btn);
        todoList.appendChild(li);
    });
}

function saveTodos() {
    localStorage.setItem("todos", JSON.stringify(todos));
}

addBtn.addEventListener("click", addTodo);
    todoInput.addEventListener("keydown", e => {
    if (e.key === "Enter") addTodo();
});
```

### 💡 app.js 핵심 포인트

#### 1️⃣ 요소 선택 (DOM API)
```javascript
const todoInput = document.querySelector("#todo-input");  // 입력창 찾기
const addBtn = document.querySelector("#add-btn");        // 버튼 찾기
const todoList = document.querySelector("#todo-list");    // 목록 ul 찾기
```
> HTML에서 `id`를 붙여둔 요소들을 JavaScript에서 찾아와 변수에 저장

#### 2️⃣ 데이터 복원 (Web Storage API)
```javascript
const savedTodos = JSON.parse(localStorage.getItem("todos"));
```
| 메서드 | 역할 |
|-------|------|
| `localStorage.getItem("todos")` | 저장된 문자열 꺼내기 |
| `JSON.parse(...)` | 문자열 → 배열로 변환 |

> 🔄 **새로고침해도 데이터가 살아있는 이유!**

#### 3️⃣ 함수 정리

| 함수 | 하는 일 |
|-----|--------|
| `addTodo()` | 입력값을 배열에 추가 → 저장 → 화면 갱신 |
| `deleteTodo(index)` | 해당 인덱스 삭제 → 저장 → 화면 갱신 |
| `renderTodos()` | 배열을 읽어서 화면에 li 태그로 그려줌 |
| `saveTodos()` | 배열을 문자열로 변환해서 localStorage에 저장 |

#### 4️⃣ 이벤트 연결
```javascript
addBtn.addEventListener("click", addTodo);           // 버튼 클릭 시
todoInput.addEventListener("keydown", e => {         // 키보드 입력 시
    if (e.key === "Enter") addTodo();                // Enter면 추가
});
```

---

# 🌐 Part 2: API 학습

> **핵심 개념**: Web API 활용 (Fetch API, Web Storage API)

---

## 📄 fetch.html (Fetch API - 서버 통신)

```html
<!-- 서버에서 데이터 가져오는 api -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 서버에서 게시글 데이터를 불러오는 버튼 -->
    <button id="load">불러오기</button>
    
    <!-- 게시글 목록 -->
    <ul id="list">
    </ul>

    <script>
        const button = document.querySelector("#load")
        const list = document.querySelector("#list")    

        button.addEventListener('click', fetchData)

        function fetchData() { 
            fetch('https://jsonplaceholder.typicode.com/posts')
            .then(response => response.json()) //응답객체를 json으로 파싱
            .then(posts => {
                list.innerHTML = ""; // 기존 목록 초기화(이거 주석처리하면 누를때마다 계속 추가됨)

                for (const post of posts.slice(0, 5)) { //처음 5개 게시글만
                    const li = document.createElement("li") //
                    li.textContent = post.title; //게시글 제목                                                   
                    list.appendChild(li);//     게시글 목록에 추가
                }
            })
        }
    </script>

</body>

</html>
```

### 💡 fetch.html 핵심 포인트

#### 🌍 Fetch API란?
> **서버에서 데이터를 가져오는** 브라우저 내장 기능

#### 📡 동작 흐름
```
버튼 클릭 → fetch() 호출 → 서버 응답 대기 → 데이터 받기 → 화면에 표시
```

#### 🔍 코드 분석

```javascript
fetch('https://jsonplaceholder.typicode.com/posts')  // 1. 서버에 요청
.then(response => response.json())                   // 2. 응답을 JSON으로 변환
.then(posts => {                                     // 3. 변환된 데이터 사용
    // 화면에 표시하는 코드
})
```

| 단계 | 코드 | 설명 |
|-----|------|------|
| 1 | `fetch(URL)` | 해당 URL의 서버에 HTTP 요청 보내기 |
| 2 | `.then(response => response.json())` | 서버 응답(Response 객체)을 JSON 데이터로 파싱 |
| 3 | `.then(posts => {...})` | 변환된 데이터(posts 배열)로 원하는 작업 수행 |

#### 📝 데이터 처리
```javascript
posts.slice(0, 5)  // 배열에서 처음 5개만 가져오기
```

> 💡 `jsonplaceholder.typicode.com`은 테스트용 가짜 API 서버입니다!

---

## 📄 storage.html (Web Storage API - 로컬 저장)

```html
<!-- 스토리지api -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>ㅁ
</head>

<body>
<input type="text" id="name" autocomplete="off" placeholder="이름 입력..."> //   
    <button id="save">저장</button>
    <p id="result"></p>

    <script>
        const input = document.querySelector("#name")
        // 동작: HTML에서 id="name"인 입력창(input)을 찾아 변수에 담습니다.
        const button = document.querySelector("#save")
        const result = document.querySelector("#result")

            const savedName = localStorage.getItem("name"); //<-> 세션이면 '탭단위'로 나눠서 따로 됨.
            // 무슨말이냐면 로컬이면 탭을 여러개 띄워도 새로고침해도 다 저장된 값이 나오지만,
            // 세션이면 주소 복사해서 새탭에 띄우면 저장된 값이 안나오고 사라지고,
            //        새로고침하면 같은 탭으로 봐서 저장된 값이 나옴.
            // 동작: 브라우저 로컬스토리지 금고에서 "name"이라는 이름표가 붙은 값을 꺼내옵니다.
            // 상태: 처음 방문했다면 아무것도 없으니 null이 저장되고, 이전에 저장했다면 그 이름이 저장됩니다.

            if (savedName) { //savedname에 값이 있으면(true) null이면 false
                result.textContent =savedName;  //처음에 널로 넘어감, 두번째부터는 새로고침때마다 자동실행
            }

        button.addEventListener("click", function () {  //저장버튼 클릭시    
            localStorage.setItem("name", input.value); //input.value는 클릭시점의 값
            result.textContent = input.value;   //저장한 값을 화면에 표시    
        });
    </script> 
</body>

</html>
```

### 💡 storage.html 핵심 포인트

#### 💾 Web Storage API란?
> **브라우저에 데이터를 저장**하는 기능 (서버 없이 로컬에 저장!)

#### 🔑 핵심 메서드

| 메서드 | 역할 | 예시 |
|-------|------|-----|
| `localStorage.setItem(키, 값)` | 저장하기 | `setItem("name", "홍길동")` |
| `localStorage.getItem(키)` | 꺼내기 | `getItem("name")` → `"홍길동"` |
| `localStorage.removeItem(키)` | 삭제하기 | `removeItem("name")` |

#### 🔄 동작 흐름

```
[페이지 로드 시]
localStorage에서 "name" 꺼내기 → 값 있으면 화면에 표시

[저장 버튼 클릭 시]
입력값 → localStorage에 저장 → 화면에도 표시
```

#### ⚡ localStorage vs sessionStorage

| 구분 | localStorage | sessionStorage |
|-----|-------------|----------------|
| 유지 기간 | **영구** (직접 삭제 전까지) | 탭 닫으면 삭제 |
| 탭 간 공유 | ✅ 모든 탭에서 공유 | ❌ 탭마다 별도 |
| 새로고침 | ✅ 유지됨 | ✅ 유지됨 |

---

# 📊 전체 파일 관계도

```
┌─────────────────────────────────────────────────────────┐
│                    Part 1: 투두리스트                    │
│  ┌─────────────┐     <script src>     ┌─────────────┐  │
│  │ index.html  │ ──────────────────▶ │   app.js    │  │
│  │  (화면 UI)  │                      │ (동작 로직) │  │
│  └─────────────┘                      └─────────────┘  │
│         │                                    │         │
│         └────────── localStorage ────────────┘         │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│                     Part 2: API 학습                     │
│  ┌─────────────────┐        ┌─────────────────────┐    │
│  │   fetch.html    │        │    storage.html     │    │
│  │                 │        │                     │    │
│  │  📡 Fetch API   │        │  💾 Storage API     │    │
│  │  (서버 통신)     │        │  (로컬 저장)         │    │
│  └─────────────────┘        └─────────────────────┘    │
│          │                            │                 │
│          ▼                            ▼                 │
│   외부 서버에서               브라우저 내부에            │
│   데이터 가져옴               데이터 저장               │
└─────────────────────────────────────────────────────────┘
```

---

# ✅ 핵심 정리

| 파트 | 파일 | 사용된 API | 한줄 요약 |
|-----|------|-----------|---------|
| 투두리스트 | index.html | - | UI 화면 구조 |
| 투두리스트 | app.js | DOM API, Storage API | 동작 처리 + 데이터 저장 |
| API 학습 | fetch.html | Fetch API | 서버에서 데이터 가져오기 |
| API 학습 | storage.html | Storage API | 브라우저에 데이터 저장하기 |
